import{a as vr}from"./chunk-YXZDJEQA.js";import{a as ye,b as br,c as Sr}from"./chunk-SPRK6DMK.js";import{a as Cr}from"./chunk-CJKUBRVY.js";import{b as Te}from"./chunk-UCKHWV5D.js";import{a as se,b as Ht,c as ee,d as x,e as V,f as le,g as dt,h as pt,i as Ar,j as Vt,k as Yt,l as Bt,m as b,n as Ne,o as mt,p as Mr,q as wr,r as Or,s as Nr,t as Rr,u as Dr}from"./chunk-S4H5QRWI.js";import{a as xr}from"./chunk-QAGJRCCT.js";import{a as ft}from"./chunk-AD2Z7PRR.js";import{a as Er,b as ct}from"./chunk-WHWWWWTG.js";import{a as _r,b as Tr,c as Oe}from"./chunk-U7A6JFEH.js";import{a as Qn,b as Jn,e as er,f as lt,i as tr,j as nr,k as rr}from"./chunk-A3RPS73V.js";import{a as or}from"./chunk-BXGVR33D.js";import{a as gr,c as yr}from"./chunk-N3PBMZT4.js";import"./chunk-477BP3S3.js";import{b as Pr}from"./chunk-YKI6Z75V.js";import{b as ar,c as sr,f as lr}from"./chunk-YYSSMGJR.js";import{a as Ir}from"./chunk-GCAOOQ5K.js";import"./chunk-U4CFCUJG.js";import"./chunk-OK5S6IU3.js";import{B as hr,a as ir,b as _e,e as ur,g as ut,j as cr,k as fr,r as dr,u as pr,z as mr}from"./chunk-V32KLUJ4.js";import{f as qn,g as $n,h as Kn}from"./chunk-DCSLL5ZG.js";import{$b as w,B as wn,Fc as ve,H as On,Ka as zn,Kb as it,Oa as Un,P as et,Qb as Ut,Qc as jn,Uc as Gn,Vb as ot,X as Nn,Y as Rn,Ya as Hn,_b as L,a as Je,ac as at,ad as Zn,b as In,e as lo,ea as zt,f as uo,gd as ge,ha as tt,hc as st,ia as Dn,ka as nt,lb as rt,na as kn,ob as F,q as Pn,qa as T,qb as Vn,sb as Yn,ua as he,ub as Bn,x as An,xb as Wn,xc as z,y as Mn,ya as Fn,yc as ae,za as Ln,zc as Xn}from"./chunk-IAZQTHFA.js";var ei=lo((yc,Ct)=>{"use strict";(function(e,t,n,r){"use strict";var i=["","webkit","Moz","MS","ms","o"],s=t.createElement("div"),u="function",f=Math.round,d=Math.abs,m=Date.now;function h(o,a,l){return setTimeout(Y(o,l),a)}function g(o,a,l){return Array.isArray(o)?(y(o,l[a],l),!0):!1}function y(o,a,l){var c;if(o)if(o.forEach)o.forEach(a,l);else if(o.length!==r)for(c=0;c<o.length;)a.call(l,o[c],c,o),c++;else for(c in o)o.hasOwnProperty(c)&&a.call(l,o[c],c,o)}function I(o,a,l){var c="DEPRECATED METHOD: "+a+`
`+l+` AT 
`;return function(){var p=new Error("get-stack-trace"),v=p&&p.stack?p.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",_=e.console&&(e.console.warn||e.console.log);return _&&_.call(e.console,c,v),o.apply(this,arguments)}}var A;typeof Object.assign!="function"?A=function(a){if(a===r||a===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),c=1;c<arguments.length;c++){var p=arguments[c];if(p!==r&&p!==null)for(var v in p)p.hasOwnProperty(v)&&(l[v]=p[v])}return l}:A=Object.assign;var W=I(function(a,l,c){for(var p=Object.keys(l),v=0;v<p.length;)(!c||c&&a[p[v]]===r)&&(a[p[v]]=l[p[v]]),v++;return a},"extend","Use `assign`."),ze=I(function(a,l){return W(a,l,!0)},"merge","Use `assign`.");function S(o,a,l){var c=a.prototype,p;p=o.prototype=Object.create(c),p.constructor=o,p._super=c,l&&A(p,l)}function Y(o,a){return function(){return o.apply(a,arguments)}}function Q(o,a){return typeof o==u?o.apply(a&&a[0]||r,a):o}function fe(o,a){return o===r?a:o}function de(o,a,l){y(He(a),function(c){o.addEventListener(c,l,!1)})}function Ue(o,a,l){y(He(a),function(c){o.removeEventListener(c,l,!1)})}function nn(o,a){for(;o;){if(o==a)return!0;o=o.parentNode}return!1}function ne(o,a){return o.indexOf(a)>-1}function He(o){return o.trim().split(/\s+/g)}function pe(o,a,l){if(o.indexOf&&!l)return o.indexOf(a);for(var c=0;c<o.length;){if(l&&o[c][l]==a||!l&&o[c]===a)return c;c++}return-1}function Ve(o){return Array.prototype.slice.call(o,0)}function rn(o,a,l){for(var c=[],p=[],v=0;v<o.length;){var _=a?o[v][a]:o[v];pe(p,_)<0&&c.push(o[v]),p[v]=_,v++}return l&&(a?c=c.sort(function(M,N){return M[a]>N[a]}):c=c.sort()),c}function Ye(o,a){for(var l,c,p=a[0].toUpperCase()+a.slice(1),v=0;v<i.length;){if(l=i[v],c=l?l+p:a,c in o)return c;v++}return r}var Pi=1;function Ai(){return Pi++}function on(o){var a=o.ownerDocument||o;return a.defaultView||a.parentWindow||e}var Mi=/mobile|tablet|ip(ad|hone|od)|android/i,an="ontouchstart"in e,wi=Ye(e,"PointerEvent")!==r,Oi=an&&Mi.test(navigator.userAgent),be="touch",Ni="pen",Pt="mouse",Ri="kinect",Di=25,O=1,re=2,C=4,R=8,Be=1,Se=2,Ce=4,Ie=8,Pe=16,X=Se|Ce,ie=Ie|Pe,sn=X|ie,ln=["x","y"],We=["clientX","clientY"];function U(o,a){var l=this;this.manager=o,this.callback=a,this.element=o.element,this.target=o.options.inputTarget,this.domHandler=function(c){Q(o.options.enable,[o])&&l.handler(c)},this.init()}U.prototype={handler:function(){},init:function(){this.evEl&&de(this.element,this.evEl,this.domHandler),this.evTarget&&de(this.target,this.evTarget,this.domHandler),this.evWin&&de(on(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ue(this.element,this.evEl,this.domHandler),this.evTarget&&Ue(this.target,this.evTarget,this.domHandler),this.evWin&&Ue(on(this.element),this.evWin,this.domHandler)}};function ki(o){var a,l=o.options.inputClass;return l?a=l:wi?a=Mt:Oi?a=Ge:an?a=wt:a=je,new a(o,Fi)}function Fi(o,a,l){var c=l.pointers.length,p=l.changedPointers.length,v=a&O&&c-p===0,_=a&(C|R)&&c-p===0;l.isFirst=!!v,l.isFinal=!!_,v&&(o.session={}),l.eventType=a,Li(o,l),o.emit("hammer.input",l),o.recognize(l),o.session.prevInput=l}function Li(o,a){var l=o.session,c=a.pointers,p=c.length;l.firstInput||(l.firstInput=un(a)),p>1&&!l.firstMultiple?l.firstMultiple=un(a):p===1&&(l.firstMultiple=!1);var v=l.firstInput,_=l.firstMultiple,P=_?_.center:v.center,M=a.center=cn(c);a.timeStamp=m(),a.deltaTime=a.timeStamp-v.timeStamp,a.angle=At(P,M),a.distance=Xe(P,M),zi(l,a),a.offsetDirection=dn(a.deltaX,a.deltaY);var N=fn(a.deltaTime,a.deltaX,a.deltaY);a.overallVelocityX=N.x,a.overallVelocityY=N.y,a.overallVelocity=d(N.x)>d(N.y)?N.x:N.y,a.scale=_?Vi(_.pointers,c):1,a.rotation=_?Hi(_.pointers,c):0,a.maxPointers=l.prevInput?a.pointers.length>l.prevInput.maxPointers?a.pointers.length:l.prevInput.maxPointers:a.pointers.length,Ui(l,a);var G=o.element;nn(a.srcEvent.target,G)&&(G=a.srcEvent.target),a.target=G}function zi(o,a){var l=a.center,c=o.offsetDelta||{},p=o.prevDelta||{},v=o.prevInput||{};(a.eventType===O||v.eventType===C)&&(p=o.prevDelta={x:v.deltaX||0,y:v.deltaY||0},c=o.offsetDelta={x:l.x,y:l.y}),a.deltaX=p.x+(l.x-c.x),a.deltaY=p.y+(l.y-c.y)}function Ui(o,a){var l=o.lastInterval||a,c=a.timeStamp-l.timeStamp,p,v,_,P;if(a.eventType!=R&&(c>Di||l.velocity===r)){var M=a.deltaX-l.deltaX,N=a.deltaY-l.deltaY,G=fn(c,M,N);v=G.x,_=G.y,p=d(G.x)>d(G.y)?G.x:G.y,P=dn(M,N),o.lastInterval=a}else p=l.velocity,v=l.velocityX,_=l.velocityY,P=l.direction;a.velocity=p,a.velocityX=v,a.velocityY=_,a.direction=P}function un(o){for(var a=[],l=0;l<o.pointers.length;)a[l]={clientX:f(o.pointers[l].clientX),clientY:f(o.pointers[l].clientY)},l++;return{timeStamp:m(),pointers:a,center:cn(a),deltaX:o.deltaX,deltaY:o.deltaY}}function cn(o){var a=o.length;if(a===1)return{x:f(o[0].clientX),y:f(o[0].clientY)};for(var l=0,c=0,p=0;p<a;)l+=o[p].clientX,c+=o[p].clientY,p++;return{x:f(l/a),y:f(c/a)}}function fn(o,a,l){return{x:a/o||0,y:l/o||0}}function dn(o,a){return o===a?Be:d(o)>=d(a)?o<0?Se:Ce:a<0?Ie:Pe}function Xe(o,a,l){l||(l=ln);var c=a[l[0]]-o[l[0]],p=a[l[1]]-o[l[1]];return Math.sqrt(c*c+p*p)}function At(o,a,l){l||(l=ln);var c=a[l[0]]-o[l[0]],p=a[l[1]]-o[l[1]];return Math.atan2(p,c)*180/Math.PI}function Hi(o,a){return At(a[1],a[0],We)+At(o[1],o[0],We)}function Vi(o,a){return Xe(a[0],a[1],We)/Xe(o[0],o[1],We)}var Yi={mousedown:O,mousemove:re,mouseup:C},Bi="mousedown",Wi="mousemove mouseup";function je(){this.evEl=Bi,this.evWin=Wi,this.pressed=!1,U.apply(this,arguments)}S(je,U,{handler:function(a){var l=Yi[a.type];l&O&&a.button===0&&(this.pressed=!0),l&re&&a.which!==1&&(l=C),this.pressed&&(l&C&&(this.pressed=!1),this.callback(this.manager,l,{pointers:[a],changedPointers:[a],pointerType:Pt,srcEvent:a}))}});var Xi={pointerdown:O,pointermove:re,pointerup:C,pointercancel:R,pointerout:R},ji={2:be,3:Ni,4:Pt,5:Ri},pn="pointerdown",mn="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(pn="MSPointerDown",mn="MSPointerMove MSPointerUp MSPointerCancel");function Mt(){this.evEl=pn,this.evWin=mn,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}S(Mt,U,{handler:function(a){var l=this.store,c=!1,p=a.type.toLowerCase().replace("ms",""),v=Xi[p],_=ji[a.pointerType]||a.pointerType,P=_==be,M=pe(l,a.pointerId,"pointerId");v&O&&(a.button===0||P)?M<0&&(l.push(a),M=l.length-1):v&(C|R)&&(c=!0),!(M<0)&&(l[M]=a,this.callback(this.manager,v,{pointers:l,changedPointers:[a],pointerType:_,srcEvent:a}),c&&l.splice(M,1))}});var Gi={touchstart:O,touchmove:re,touchend:C,touchcancel:R},Zi="touchstart",qi="touchstart touchmove touchend touchcancel";function hn(){this.evTarget=Zi,this.evWin=qi,this.started=!1,U.apply(this,arguments)}S(hn,U,{handler:function(a){var l=Gi[a.type];if(l===O&&(this.started=!0),!!this.started){var c=$i.call(this,a,l);l&(C|R)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,l,{pointers:c[0],changedPointers:c[1],pointerType:be,srcEvent:a})}}});function $i(o,a){var l=Ve(o.touches),c=Ve(o.changedTouches);return a&(C|R)&&(l=rn(l.concat(c),"identifier",!0)),[l,c]}var Ki={touchstart:O,touchmove:re,touchend:C,touchcancel:R},Qi="touchstart touchmove touchend touchcancel";function Ge(){this.evTarget=Qi,this.targetIds={},U.apply(this,arguments)}S(Ge,U,{handler:function(a){var l=Ki[a.type],c=Ji.call(this,a,l);c&&this.callback(this.manager,l,{pointers:c[0],changedPointers:c[1],pointerType:be,srcEvent:a})}});function Ji(o,a){var l=Ve(o.touches),c=this.targetIds;if(a&(O|re)&&l.length===1)return c[l[0].identifier]=!0,[l,l];var p,v,_=Ve(o.changedTouches),P=[],M=this.target;if(v=l.filter(function(N){return nn(N.target,M)}),a===O)for(p=0;p<v.length;)c[v[p].identifier]=!0,p++;for(p=0;p<_.length;)c[_[p].identifier]&&P.push(_[p]),a&(C|R)&&delete c[_[p].identifier],p++;if(P.length)return[rn(v.concat(P),"identifier",!0),P]}var eo=2500,vn=25;function wt(){U.apply(this,arguments);var o=Y(this.handler,this);this.touch=new Ge(this.manager,o),this.mouse=new je(this.manager,o),this.primaryTouch=null,this.lastTouches=[]}S(wt,U,{handler:function(a,l,c){var p=c.pointerType==be,v=c.pointerType==Pt;if(!(v&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(p)to.call(this,l,c);else if(v&&no.call(this,c))return;this.callback(a,l,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function to(o,a){o&O?(this.primaryTouch=a.changedPointers[0].identifier,gn.call(this,a)):o&(C|R)&&gn.call(this,a)}function gn(o){var a=o.changedPointers[0];if(a.identifier===this.primaryTouch){var l={x:a.clientX,y:a.clientY};this.lastTouches.push(l);var c=this.lastTouches,p=function(){var v=c.indexOf(l);v>-1&&c.splice(v,1)};setTimeout(p,eo)}}function no(o){for(var a=o.srcEvent.clientX,l=o.srcEvent.clientY,c=0;c<this.lastTouches.length;c++){var p=this.lastTouches[c],v=Math.abs(a-p.x),_=Math.abs(l-p.y);if(v<=vn&&_<=vn)return!0}return!1}var yn=Ye(s.style,"touchAction"),_n=yn!==r,Tn="compute",xn="auto",Ot="manipulation",oe="none",Ae="pan-x",Me="pan-y",Ze=io();function Nt(o,a){this.manager=o,this.set(a)}Nt.prototype={set:function(o){o==Tn&&(o=this.compute()),_n&&this.manager.element.style&&Ze[o]&&(this.manager.element.style[yn]=o),this.actions=o.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var o=[];return y(this.manager.recognizers,function(a){Q(a.options.enable,[a])&&(o=o.concat(a.getTouchAction()))}),ro(o.join(" "))},preventDefaults:function(o){var a=o.srcEvent,l=o.offsetDirection;if(this.manager.session.prevented){a.preventDefault();return}var c=this.actions,p=ne(c,oe)&&!Ze[oe],v=ne(c,Me)&&!Ze[Me],_=ne(c,Ae)&&!Ze[Ae];if(p){var P=o.pointers.length===1,M=o.distance<2,N=o.deltaTime<250;if(P&&M&&N)return}if(!(_&&v)&&(p||v&&l&X||_&&l&ie))return this.preventSrc(a)},preventSrc:function(o){this.manager.session.prevented=!0,o.preventDefault()}};function ro(o){if(ne(o,oe))return oe;var a=ne(o,Ae),l=ne(o,Me);return a&&l?oe:a||l?a?Ae:Me:ne(o,Ot)?Ot:xn}function io(){if(!_n)return!1;var o={},a=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(l){o[l]=a?e.CSS.supports("touch-action",l):!0}),o}var qe=1,H=2,me=4,J=8,Z=J,we=16,j=32;function q(o){this.options=A({},this.defaults,o||{}),this.id=Ai(),this.manager=null,this.options.enable=fe(this.options.enable,!0),this.state=qe,this.simultaneous={},this.requireFail=[]}q.prototype={defaults:{},set:function(o){return A(this.options,o),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(o){if(g(o,"recognizeWith",this))return this;var a=this.simultaneous;return o=$e(o,this),a[o.id]||(a[o.id]=o,o.recognizeWith(this)),this},dropRecognizeWith:function(o){return g(o,"dropRecognizeWith",this)?this:(o=$e(o,this),delete this.simultaneous[o.id],this)},requireFailure:function(o){if(g(o,"requireFailure",this))return this;var a=this.requireFail;return o=$e(o,this),pe(a,o)===-1&&(a.push(o),o.requireFailure(this)),this},dropRequireFailure:function(o){if(g(o,"dropRequireFailure",this))return this;o=$e(o,this);var a=pe(this.requireFail,o);return a>-1&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(o){return!!this.simultaneous[o.id]},emit:function(o){var a=this,l=this.state;function c(p){a.manager.emit(p,o)}l<J&&c(a.options.event+En(l)),c(a.options.event),o.additionalEvent&&c(o.additionalEvent),l>=J&&c(a.options.event+En(l))},tryEmit:function(o){if(this.canEmit())return this.emit(o);this.state=j},canEmit:function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(j|qe)))return!1;o++}return!0},recognize:function(o){var a=A({},o);if(!Q(this.options.enable,[this,a])){this.reset(),this.state=j;return}this.state&(Z|we|j)&&(this.state=qe),this.state=this.process(a),this.state&(H|me|J|we)&&this.tryEmit(a)},process:function(o){},getTouchAction:function(){},reset:function(){}};function En(o){return o&we?"cancel":o&J?"end":o&me?"move":o&H?"start":""}function bn(o){return o==Pe?"down":o==Ie?"up":o==Se?"left":o==Ce?"right":""}function $e(o,a){var l=a.manager;return l?l.get(o):o}function B(){q.apply(this,arguments)}S(B,q,{defaults:{pointers:1},attrTest:function(o){var a=this.options.pointers;return a===0||o.pointers.length===a},process:function(o){var a=this.state,l=o.eventType,c=a&(H|me),p=this.attrTest(o);return c&&(l&R||!p)?a|we:c||p?l&C?a|J:a&H?a|me:H:j}});function Ke(){B.apply(this,arguments),this.pX=null,this.pY=null}S(Ke,B,{defaults:{event:"pan",threshold:10,pointers:1,direction:sn},getTouchAction:function(){var o=this.options.direction,a=[];return o&X&&a.push(Me),o&ie&&a.push(Ae),a},directionTest:function(o){var a=this.options,l=!0,c=o.distance,p=o.direction,v=o.deltaX,_=o.deltaY;return p&a.direction||(a.direction&X?(p=v===0?Be:v<0?Se:Ce,l=v!=this.pX,c=Math.abs(o.deltaX)):(p=_===0?Be:_<0?Ie:Pe,l=_!=this.pY,c=Math.abs(o.deltaY))),o.direction=p,l&&c>a.threshold&&p&a.direction},attrTest:function(o){return B.prototype.attrTest.call(this,o)&&(this.state&H||!(this.state&H)&&this.directionTest(o))},emit:function(o){this.pX=o.deltaX,this.pY=o.deltaY;var a=bn(o.direction);a&&(o.additionalEvent=this.options.event+a),this._super.emit.call(this,o)}});function Rt(){B.apply(this,arguments)}S(Rt,B,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[oe]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.scale-1)>this.options.threshold||this.state&H)},emit:function(o){if(o.scale!==1){var a=o.scale<1?"in":"out";o.additionalEvent=this.options.event+a}this._super.emit.call(this,o)}});function Dt(){q.apply(this,arguments),this._timer=null,this._input=null}S(Dt,q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xn]},process:function(o){var a=this.options,l=o.pointers.length===a.pointers,c=o.distance<a.threshold,p=o.deltaTime>a.time;if(this._input=o,!c||!l||o.eventType&(C|R)&&!p)this.reset();else if(o.eventType&O)this.reset(),this._timer=h(function(){this.state=Z,this.tryEmit()},a.time,this);else if(o.eventType&C)return Z;return j},reset:function(){clearTimeout(this._timer)},emit:function(o){this.state===Z&&(o&&o.eventType&C?this.manager.emit(this.options.event+"up",o):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function kt(){B.apply(this,arguments)}S(kt,B,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[oe]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.rotation)>this.options.threshold||this.state&H)}});function Ft(){B.apply(this,arguments)}S(Ft,B,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|ie,pointers:1},getTouchAction:function(){return Ke.prototype.getTouchAction.call(this)},attrTest:function(o){var a=this.options.direction,l;return a&(X|ie)?l=o.overallVelocity:a&X?l=o.overallVelocityX:a&ie&&(l=o.overallVelocityY),this._super.attrTest.call(this,o)&&a&o.offsetDirection&&o.distance>this.options.threshold&&o.maxPointers==this.options.pointers&&d(l)>this.options.velocity&&o.eventType&C},emit:function(o){var a=bn(o.offsetDirection);a&&this.manager.emit(this.options.event+a,o),this.manager.emit(this.options.event,o)}});function Qe(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}S(Qe,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(o){var a=this.options,l=o.pointers.length===a.pointers,c=o.distance<a.threshold,p=o.deltaTime<a.time;if(this.reset(),o.eventType&O&&this.count===0)return this.failTimeout();if(c&&p&&l){if(o.eventType!=C)return this.failTimeout();var v=this.pTime?o.timeStamp-this.pTime<a.interval:!0,_=!this.pCenter||Xe(this.pCenter,o.center)<a.posThreshold;this.pTime=o.timeStamp,this.pCenter=o.center,!_||!v?this.count=1:this.count+=1,this._input=o;var P=this.count%a.taps;if(P===0)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Z,this.tryEmit()},a.interval,this),H):Z}return j},failTimeout:function(){return this._timer=h(function(){this.state=j},this.options.interval,this),j},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Z&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function $(o,a){return a=a||{},a.recognizers=fe(a.recognizers,$.defaults.preset),new Lt(o,a)}$.VERSION="2.0.7",$.defaults={domEvents:!1,touchAction:Tn,enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[Rt,{enable:!1},["rotate"]],[Ft,{direction:X}],[Ke,{direction:X},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Dt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var oo=1,Sn=2;function Lt(o,a){this.options=A({},$.defaults,a||{}),this.options.inputTarget=this.options.inputTarget||o,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=o,this.input=ki(this),this.touchAction=new Nt(this,this.options.touchAction),Cn(this,!0),y(this.options.recognizers,function(l){var c=this.add(new l[0](l[1]));l[2]&&c.recognizeWith(l[2]),l[3]&&c.requireFailure(l[3])},this)}Lt.prototype={set:function(o){return A(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},stop:function(o){this.session.stopped=o?Sn:oo},recognize:function(o){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(o);var l,c=this.recognizers,p=a.curRecognizer;(!p||p&&p.state&Z)&&(p=a.curRecognizer=null);for(var v=0;v<c.length;)l=c[v],a.stopped!==Sn&&(!p||l==p||l.canRecognizeWith(p))?l.recognize(o):l.reset(),!p&&l.state&(H|me|J)&&(p=a.curRecognizer=l),v++}},get:function(o){if(o instanceof q)return o;for(var a=this.recognizers,l=0;l<a.length;l++)if(a[l].options.event==o)return a[l];return null},add:function(o){if(g(o,"add",this))return this;var a=this.get(o.options.event);return a&&this.remove(a),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},remove:function(o){if(g(o,"remove",this))return this;if(o=this.get(o),o){var a=this.recognizers,l=pe(a,o);l!==-1&&(a.splice(l,1),this.touchAction.update())}return this},on:function(o,a){if(o!==r&&a!==r){var l=this.handlers;return y(He(o),function(c){l[c]=l[c]||[],l[c].push(a)}),this}},off:function(o,a){if(o!==r){var l=this.handlers;return y(He(o),function(c){a?l[c]&&l[c].splice(pe(l[c],a),1):delete l[c]}),this}},emit:function(o,a){this.options.domEvents&&ao(o,a);var l=this.handlers[o]&&this.handlers[o].slice();if(!(!l||!l.length)){a.type=o,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var c=0;c<l.length;)l[c](a),c++}},destroy:function(){this.element&&Cn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Cn(o,a){var l=o.element;if(l.style){var c;y(o.options.cssProps,function(p,v){c=Ye(l.style,v),a?(o.oldCssProps[c]=l.style[c],l.style[c]=p):l.style[c]=o.oldCssProps[c]||""}),a||(o.oldCssProps={})}}function ao(o,a){var l=t.createEvent("Event");l.initEvent(o,!0,!0),l.gesture=a,a.target.dispatchEvent(l)}A($,{INPUT_START:O,INPUT_MOVE:re,INPUT_END:C,INPUT_CANCEL:R,STATE_POSSIBLE:qe,STATE_BEGAN:H,STATE_CHANGED:me,STATE_ENDED:J,STATE_RECOGNIZED:Z,STATE_CANCELLED:we,STATE_FAILED:j,DIRECTION_NONE:Be,DIRECTION_LEFT:Se,DIRECTION_RIGHT:Ce,DIRECTION_UP:Ie,DIRECTION_DOWN:Pe,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:ie,DIRECTION_ALL:sn,Manager:Lt,Input:U,TouchAction:Nt,TouchInput:Ge,MouseInput:je,PointerEventInput:Mt,TouchMouseInput:wt,SingleTouchInput:hn,Recognizer:q,AttrRecognizer:B,Tap:Qe,Pan:Ke,Swipe:Ft,Pinch:Rt,Rotate:kt,Press:Dt,on:de,off:Ue,each:y,merge:ze,extend:W,assign:A,inherit:S,bindFn:Y,prefixed:Ye});var so=typeof e<"u"?e:typeof self<"u"?self:{};so.Hammer=$,typeof define=="function"&&define.amd?define(function(){return $}):typeof Ct<"u"&&Ct.exports?Ct.exports=$:e[n]=$})(window,document,"Hammer")});var ht=class e{config=T(ye);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=he({type:e,selectors:[["app-version"]],standalone:!0,features:[ve],decls:3,vars:1,consts:[[1,"bg-white/60","text-primary","flex","items-center","justify-center","text-sm","px-3","rounded-xl"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"span"),z(2),w()()),n&2&&(F(2),ae(r.config.CONFIG.VERSION))},changeDetection:0})};function co(e,t){e&1&&(L(0,"mat-error"),z(1,"required"),w())}function fo(e,t){e&1&&(L(0,"mat-error"),z(1,"required"),w())}function po(e,t){e&1&&(L(0,"mat-error"),z(1,"required"),w())}var gt=class e{lang=T(_e);fb=T(mr);ref=T(gr);form=this.fb.nonNullable.group({key:["",ut.required],ar:["",ut.required],en:["",ut.required]});save=new Pn;ngOnInit(){this.listenToSave()}listenToSave(){this.save.pipe(wn(()=>({key:this.form.value.key.toLowerCase().trim().replaceAll(" ","_"),ar:this.form.value.ar,en:this.form.value.en})),Nn(t=>this.lang.createLocal(t))).subscribe(()=>{this.ref.close()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=he({type:e,selectors:[["app-local-popup"]],standalone:!0,features:[ve],decls:24,vars:10,consts:[[1,"flex","flex-col","overflow-hidden","dialog-container","min-w-[400px]"],[1,"bg-primary","text-white","text-xl","p-4"],[1,"p-4","flex","flex-col","flex-auto",3,"formGroup"],[1,"w-full"],["formControlName","key","type","text","matInput",""],["formControlName","ar","matInput",""],["formControlName","en","matInput",""],[1,"p-4"],["mat-raised-button","",1,"primary",3,"click","disabled"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1),z(2),w(),L(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),z(6),w(),at(7,"input",4),it(8,co,2,0,"mat-error"),w(),L(9,"mat-form-field",3)(10,"mat-label"),z(11),w(),L(12,"textarea",5),z(13," "),w(),it(14,fo,2,0,"mat-error"),w(),L(15,"mat-form-field",3)(16,"mat-label"),z(17),w(),L(18,"textarea",6),z(19," "),w(),it(20,po,2,0,"mat-error"),w()(),L(21,"div",7)(22,"button",8),st("click",function(){return r.save.next()}),z(23),w()()()),n&2&&(F(2),ae(r.lang.locals.localization),F(),Ut("formGroup",r.form),F(3),ae(r.lang.locals.local_key),F(2),ot(r.form.controls.key.hasError("required")?8:-1),F(3),ae(r.lang.locals.arabic_local),F(3),ot(r.form.controls.ar.hasError("required")?14:-1),F(3),ae(r.lang.locals.english_local),F(3),ot(r.form.controls.en.hasError("required")?20:-1),F(2),Ut("disabled",r.form.invalid),F(),Xn(" ",r.lang.locals.save," "))},dependencies:[or,ar,lr,vr,hr,ur,cr,fr,dr,pr,sr]})};var yt=class e{dialog=T(yr);lang=T(_e);store=T(Te);document=T(ge);storeEffect=Zn(()=>{this.document.body.style.setProperty("--app-primary-color",this.store.backgroundColor())});openLocalDialog(t){t.preventDefault(),this.dialog.open(gt,{direction:document.dir})}toggleLanguage(){this.lang.toggleLanguage()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=he({type:e,selectors:[["app-root"]],hostBindings:function(n,r){n&1&&st("keyup.Control.Alt.a",function(s){return r.openLocalDialog(s)},!1,rt)("keyup.Control.Alt.\u0634",function(s){return r.openLocalDialog(s)},!1,rt)("keyup.Control.Alt.l",function(s){return r.toggleLanguage(s)},!1,rt)},standalone:!0,features:[ve],decls:2,vars:0,consts:[[1,"absolute","left-5","bottom-5"]],template:function(n,r){n&1&&at(0,"router-outlet")(1,"app-version",0)},dependencies:[er,ht]})};var Fr=(e,t)=>{let n=T(ye),r=T(Oe),i={AQARAT_DEV:n.CONFIG.KUNA_DEV,AQARAT_STG:n.CONFIG.KUNA_STG,AQARAT_PROD:n.CONFIG.KUNA_PROD},s=n.CONFIG.BASE_ENVIRONMENT,u=i[s];return t(e.clone({setHeaders:u?{"x-functions-key":u}:{}})).pipe(Rn(()=>{e.context.has(xr)&&r.showInfo("Done successfully !")}))};var Lr=(e,t)=>{let n=T(Oe),r=T(ge);return t(e).pipe(et(i=>{if(console.error(i),i.status===0)switch(r.defaultView?.navigator.onLine){case!0:n.showError("Error!!");break;case!1:n.showError("Network Error");break}else mo(i);return Mn(()=>i)}))},mo=e=>{let t=T(Oe),n=T(lt);switch(e.status){case 400:case 409:case 422:t.showError(e.error.message);break;case 401:n.navigate(["auth/login"]);break;case 403:t.showError("Forbidden");break;case 404:t.showError("Not found");break;case 500:case 502:case 503:t.showError("Internal Server Error");break;default:break}};var zr=(e,t)=>{let n=T(ct),r=e;return e.context.get(br)||(r=e.clone({setHeaders:Je({},n.$applicationUser().hasToken()?{[Er.TOKEN_HEADER_KEY]:`Bearer ${n.$applicationUser().access_token}`}:void 0)})),t(r)};var _t=class{send(t){return delete t.$$__service_name__$$,t}receive(t){return t}};var Tt=()=>{let e=T(Te),t=T(Sr);return e.streamId()&&t.closeStream().subscribe(),confirm("Stream will be closed")};var ue=class e{applicationUserService=T(ct);router=T(lt);canActivate(){return this.applicationUserService.$isAuthenticated()||this.applicationUserService.tryAuthenticate(),this.applicationUserService.$isAuthenticated()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ur=[{path:"home",loadComponent:()=>import("./chunk-LE4KRU6M.js"),loadChildren:()=>import("./chunk-PAXSYNAH.js"),canActivate:[ue]},{path:"avatar",loadComponent:()=>import("./chunk-OVTRQYZM.js"),pathMatch:"full",canActivate:[ue,ft.canActivate],data:{permissions:["AVATAR"],hasAnyPermission:!1},canDeactivate:[Tt]},{path:"ms-avatar",loadComponent:()=>import("./chunk-YIKCKIPX.js"),pathMatch:"full",canActivate:[ue,ft.canActivate],data:{permissions:["AVATAR"],hasAnyPermission:!1},canDeactivate:[Tt]},{path:"video-generator",loadComponent:()=>import("./chunk-7UT2TOZI.js"),pathMatch:"full",canActivate:[ue,ft.canActivate],data:{permissions:["AVATAR"],hasAnyPermission:!1},canDeactivate:[Tt]},{path:"auth",loadComponent:()=>import("./chunk-B3BR7MNR.js"),loadChildren:()=>import("./chunk-LS32O6IY.js")},{path:"control",loadComponent:()=>import("./chunk-DJY6BORH.js"),pathMatch:"full"},{path:"**",redirectTo:"home"}];var ho="@",vo=(()=>{class e{constructor(n,r,i,s,u){this.doc=n,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=T(Yn,{optional:!0}),this.loadingSchedulerFn=T(go,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-F7CW275A.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(n):r=n(),r.catch(i=>{throw new Dn(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let u=new s(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(n,r){let i=this.delegate.createRenderer(n,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new Wt(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let f=u.createRenderer(n,r);s.use(f),this.scheduler?.notify(10)}).catch(u=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){Vn()}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})(),Wt=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,r,i){this.delegate.insertBefore(t,n,r,i)}removeChild(t,n,r){this.delegate.removeChild(t,n,r)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(t,n,r)),this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(t,n,r)),this.delegate.listen(t,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(ho)}},go=new kn("");function Hr(e="animations"){return Wn("NgAsyncAnimations"),Fn([{provide:Bn,useFactory:(t,n,r)=>new vo(t,n,r,e),deps:[ge,Qn,Un]},{provide:Hn,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vr={provide:jn,useFactory:(e,t,n,r,i)=>()=>On([e.load()]).pipe(tt(()=>t.setConfigService(e)),tt(()=>t.prepareUrls()),zt(()=>r.generateSpeechToken().pipe(tt(s=>n.get(Te).updateSpeechToken(s)),et(s=>(console.error("Error generating speech token:",s),An(null))))),zt(()=>i.load())),deps:[ye,ir,zn,Cr,_e],multi:!0};var Yr={providers:[{provide:Ir,useValue:{position:"above"}},{provide:_r,useValue:{horizontalPosition:"right",verticalPosition:"top",duration:2e3,panelClass:["rounded-md","bg-primary","text-white","font-semibold"]}},Vr,qn(Kn(),$n([Lr,Fr,zr])),Gn({eventCoalescing:!0}),tr(Ur,nr(),rr()),Hr(),Dr(Rr()),Ln(Tr),Pr([_t])]};var Br=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),De={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):se(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),i=r.length,s=e.font,u=0,f;for(e.font=n.string,f=0;f<i;++f)u=Math.max(e.measureText(r[f]).width,u);return e.font=s,{height:i*n.lineHeight,width:u}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],i,s,u,f;for(i=0,u=t.length;i<u;++i)f=t[i],s=n.indexOf(f),s===-1?r.push([f,1]):n.splice(s,1);for(i=0,u=n.length;i<u;++i)r.push([n[i],-1]);return r},rasterize:function(e){return Math.round(e*Br)/Br}};function Xt(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=e.x-n,s=e.y-r,u=Math.sqrt(i*i+s*s);return{x:u?i/u:0,y:u?s/u:-1}}function yo(e,t,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:e,y:t,vx:n,vy:r}}var _o=0,Xr=1,jr=2,Gr=4,Zr=8;function xt(e,t,n){var r=_o;return e<n.left?r|=Xr:e>n.right&&(r|=jr),t<n.top?r|=Zr:t>n.bottom&&(r|=Gr),r}function To(e,t){for(var n=e.x0,r=e.y0,i=e.x1,s=e.y1,u=xt(n,r,t),f=xt(i,s,t),d,m,h;!(!(u|f)||u&f);)d=u||f,d&Zr?(m=n+(i-n)*(t.top-r)/(s-r),h=t.top):d&Gr?(m=n+(i-n)*(t.bottom-r)/(s-r),h=t.bottom):d&jr?(h=r+(s-r)*(t.right-n)/(i-n),m=t.right):d&Xr&&(h=r+(s-r)*(t.left-n)/(i-n),m=t.left),d===u?(n=m,r=h,u=xt(n,r,t)):(i=m,s=h,f=xt(i,s,t));return{x0:n,x1:i,y0:r,y1:s}}function Et(e,t){var n=t.anchor,r=e,i,s;return t.clamp&&(r=To(r,t.area)),n==="start"?(i=r.x0,s=r.y0):n==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),yo(i,s,e.vx,e.vy,t.align)}var bt={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),i=Math.sin(n),s=e.innerRadius,u=e.outerRadius;return Et({x0:e.x+r*s,y0:e.y+i*s,x1:e.x+r*u,y1:e.y+i*u,vx:r,vy:i},t)},point:function(e,t){var n=Xt(e,t.origin),r=n.x*e.options.radius,i=n.y*e.options.radius;return Et({x0:e.x-r,y0:e.y-i,x1:e.x+r,y1:e.y+i,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Xt(e,t.origin),r=e.x,i=e.y,s=0,u=0;return e.horizontal?(r=Math.min(e.x,e.base),s=Math.abs(e.base-e.x)):(i=Math.min(e.y,e.base),u=Math.abs(e.base-e.y)),Et({x0:r,y0:i+u,x1:r+s,y1:i,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Xt(e,t.origin);return Et({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},K=De.rasterize;function xo(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,i=e.size.width,s=-i/2,u=-r/2;return{frame:{x:s-n.left-t,y:u-n.top-t,w:i+n.width+t*2,h:r+n.height+t*2},text:{x:s,y:u,w:i,h:r}}}function Eo(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function bo(e){return e instanceof Mr?bt.arc:e instanceof wr?bt.point:e instanceof Or?bt.bar:bt.fallback}function So(e,t,n,r,i,s){var u=Math.PI/2;if(s){var f=Math.min(s,i/2,r/2),d=t+f,m=n+f,h=t+r-f,g=n+i-f;e.moveTo(t,m),d<h&&m<g?(e.arc(d,m,f,-Math.PI,-u),e.arc(h,m,f,-u,0),e.arc(h,g,f,0,u),e.arc(d,g,f,u,Math.PI)):d<h?(e.moveTo(d,n),e.arc(h,m,f,-u,u),e.arc(d,m,f,u,Math.PI+u)):m<g?(e.arc(d,m,f,-Math.PI,0),e.arc(d,g,f,0,Math.PI)):e.arc(d,m,f,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)}function Co(e,t,n){var r=n.backgroundColor,i=n.borderColor,s=n.borderWidth;!r&&(!i||!s)||(e.beginPath(),So(e,K(t.x)+s/2,K(t.y)+s/2,K(t.w)-s,K(t.h)-s,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),i&&s&&(e.strokeStyle=i,e.lineWidth=s,e.lineJoin="miter",e.stroke()))}function Io(e,t,n){var r=n.lineHeight,i=e.w,s=e.x,u=e.y+r/2;return t==="center"?s+=i/2:(t==="end"||t==="right")&&(s+=i),{h:r,w:i,x:s,y:u}}function Po(e,t,n){var r=e.shadowBlur,i=n.stroked,s=K(n.x),u=K(n.y),f=K(n.w);i&&e.strokeText(t,s,u,f),n.filled&&(r&&i&&(e.shadowBlur=0),e.fillText(t,s,u,f),r&&i&&(e.shadowBlur=r))}function Ao(e,t,n,r){var i=r.textAlign,s=r.color,u=!!s,f=r.font,d=t.length,m=r.textStrokeColor,h=r.textStrokeWidth,g=m&&h,y;if(!(!d||!u&&!g))for(n=Io(n,i,f),e.font=f.string,e.textAlign=i,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,u&&(e.fillStyle=s),g&&(e.lineJoin="round",e.lineWidth=h,e.strokeStyle=m),y=0,d=t.length;y<d;++y)Po(e,t[y],{stroked:g,filled:u,w:n.w,x:n.x,y:n.y+n.h*y})}var qr=function(e,t,n,r){var i=this;i._config=e,i._index=r,i._model=null,i._rects=null,i._ctx=t,i._el=n};le(qr.prototype,{_modelize:function(e,t,n,r){var i=this,s=i._index,u=Bt(b([n.font,{}],r,s)),f=b([n.color,Ar.color],r,s);return{align:b([n.align,"center"],r,s),anchor:b([n.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:b([n.backgroundColor,null],r,s),borderColor:b([n.borderColor,null],r,s),borderRadius:b([n.borderRadius,0],r,s),borderWidth:b([n.borderWidth,0],r,s),clamp:b([n.clamp,!1],r,s),clip:b([n.clip,!1],r,s),color:f,display:e,font:u,lines:t,offset:b([n.offset,4],r,s),opacity:b([n.opacity,1],r,s),origin:Eo(i._el,r),padding:Yt(b([n.padding,4],r,s)),positioner:bo(i._el),rotation:b([n.rotation,0],r,s)*(Math.PI/180),size:De.textSize(i._ctx,t,u),textAlign:b([n.textAlign,"start"],r,s),textShadowBlur:b([n.textShadowBlur,0],r,s),textShadowColor:b([n.textShadowColor,f],r,s),textStrokeColor:b([n.textStrokeColor,f],r,s),textStrokeWidth:b([n.textStrokeWidth,0],r,s)}},update:function(e){var t=this,n=null,r=null,i=t._index,s=t._config,u,f,d,m=b([s.display,!0],e,i);m&&(u=e.dataset.data[i],f=ee(x(s.formatter,[u,e]),u),d=se(f)?[]:De.toTextLines(f),d.length&&(n=t._modelize(m,d,s,e),r=xo(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,i=n._model,s=n._rects,u;this.visible()&&(r.save(),i.clip&&(u=i.area,r.beginPath(),r.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),r.clip()),r.globalAlpha=De.bound(0,i.opacity,1),r.translate(K(t.x),K(t.y)),r.rotate(i.rotation),Co(r,s.frame,i),Ao(r,i.lines,s.text,i),r.restore())}});var Mo=Number.MIN_SAFE_INTEGER||-9007199254740991,wo=Number.MAX_SAFE_INTEGER||9007199254740991;function Re(e,t,n){var r=Math.cos(n),i=Math.sin(n),s=t.x,u=t.y;return{x:s+r*(e.x-s)-i*(e.y-u),y:u+i*(e.x-s)+r*(e.y-u)}}function Wr(e,t){var n=wo,r=Mo,i=t.origin,s,u,f,d,m;for(s=0;s<e.length;++s)u=e[s],f=u.x-i.x,d=u.y-i.y,m=t.vx*f+t.vy*d,n=Math.min(n,m),r=Math.max(r,m);return{min:n,max:r}}function St(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var $r=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};le($r.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=Re(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[St(t[0],t[1]),St(t[0],t[3])],i,s,u;for(this._rotation!==e._rotation&&r.push(St(n[0],n[1]),St(n[0],n[3])),i=0;i<r.length;++i)if(s=Wr(t,r[i]),u=Wr(n,r[i]),s.max<u.min||u.max<s.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[Re({x:t.x,y:t.y},r,n),Re({x:t.x+t.w,y:t.y},r,n),Re({x:t.x+t.w,y:t.y+t.h},r,n),Re({x:t.x,y:t.y+t.h},r,n)]}});function Kr(e,t,n){var r=t.positioner(e,t),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var u=n.w,f=n.h,d=t.rotation,m=Math.abs(u/2*Math.cos(d))+Math.abs(f/2*Math.sin(d)),h=Math.abs(u/2*Math.sin(d))+Math.abs(f/2*Math.cos(d)),g=1/Math.max(Math.abs(i),Math.abs(s));return m*=i*g,h*=s*g,m+=t.offset*i,h+=t.offset*s,{x:r.x+m,y:r.y+h}}function Oo(e,t){var n,r,i,s;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,r=n-1;r>=0&&i._visible;--r)s=e[r].$layout,s._visible&&i._box.intersects(s._box)&&t(i,s);return e}function No(e){var t,n,r,i,s,u,f;for(t=0,n=e.length;t<n;++t)r=e[t],i=r.$layout,i._visible&&(f=new Proxy(r._el,{get:(d,m)=>d.getProps([m],!0)[m]}),s=r.geometry(),u=Kr(f,r.model(),s),i._box.update(u,s,r.rotation()));return Oo(e,function(d,m){var h=d._hidable,g=m._hidable;h&&g||g?m._visible=!1:h&&(d._visible=!1)})}var ke={prepare:function(e){var t=[],n,r,i,s,u;for(n=0,i=e.length;n<i;++n)for(r=0,s=e[n].length;r<s;++r)u=e[n][r],t.push(u),u.$layout={_box:new $r,_hidable:!1,_visible:!0,_set:n,_idx:u._index};return t.sort(function(f,d){var m=f.$layout,h=d.$layout;return m._idx===h._idx?h._set-m._set:h._idx-m._idx}),this.update(t),t},update:function(e){var t=!1,n,r,i,s,u;for(n=0,r=e.length;n<r;++n)i=e[n],s=i.model(),u=i.$layout,u._hidable=s&&s.display==="auto",u._visible=i.visible(),t|=u._hidable;t&&No(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,i,s,u,f;for(n=0,r=t.length;n<r;++n)i=t[n],s=i.$layout,s._visible&&(u=i.geometry(),f=Kr(i._el,i.model(),u),s._box.update(f,u,i.rotation()),i.draw(e,f))}},Ro=function(e){if(se(e))return null;var t=e,n,r,i;if(Ht(e))if(!se(e.label))t=e.label;else if(!se(e.r))t=e.r;else for(t="",n=Object.keys(e),i=0,r=n.length;i<r;++i)t+=(i!==0?", ":"")+n[i]+": "+e[n[i]];return""+t},Do={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Ro,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},D="$datalabels",Qr="$default";function ko(e,t){var n=e.datalabels,r={},i=[],s,u;return n===!1?null:(n===!0&&(n={}),t=le({},[t,n]),s=t.labels||{},u=Object.keys(s),delete t.labels,u.length?u.forEach(function(f){s[f]&&i.push(le({},[t,s[f],{_key:f}]))}):i.push(t),r=i.reduce(function(f,d){return V(d.listeners||{},function(m,h){f[h]=f[h]||{},f[h][d._key||Qr]=m}),delete d.listeners,f},{}),{labels:i,listeners:r})}function jt(e,t,n,r){if(t){var i=n.$context,s=n.$groups,u;t[s._set]&&(u=t[s._set][s._key],u&&x(u,[i,r])===!0&&(e[D]._dirty=!0,n.update(i)))}}function Fo(e,t,n,r,i){var s,u;!n&&!r||(n?r?n!==r&&(u=s=!0):u=!0:s=!0,u&&jt(e,t.leave,n,i),s&&jt(e,t.enter,r,i))}function Lo(e,t){var n=e[D],r=n._listeners,i,s;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")s=ke.lookup(n._labels,t);else if(t.type!=="mouseout")return;i=n._hovered,n._hovered=s,Fo(e,r,i,s,t)}}function zo(e,t){var n=e[D],r=n._listeners.click,i=r&&ke.lookup(n._labels,t);i&&jt(e,r,i,t)}var Jr={id:"datalabels",defaults:Do,beforeInit:function(e){e[D]={_actives:[]}},beforeUpdate:function(e){var t=e[D];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,i=e[D],s=i._datasets[r]=[],u=e.isDatasetVisible(r),f=e.data.datasets[r],d=ko(f,n),m=t.meta.data||[],h=e.ctx,g,y,I,A,W,ze,S,Y;for(h.save(),g=0,I=m.length;g<I;++g)if(S=m[g],S[D]=[],u&&S&&e.getDataVisibility(g)&&!S.skip)for(y=0,A=d.labels.length;y<A;++y)W=d.labels[y],ze=W._key,Y=new qr(W,h,S,g),Y.$groups={_set:r,_key:ze||Qr},Y.$context={active:!1,chart:e,dataIndex:g,dataset:f,datasetIndex:r},Y.update(Y.$context),S[D].push(Y),s.push(Y);h.restore(),le(i._listeners,d.listeners,{merger:function(Q,fe,de){fe[Q]=fe[Q]||{},fe[Q][t.index]=de[Q],i._listened=!0}})},afterUpdate:function(e){e[D]._labels=ke.prepare(e[D]._datasets)},afterDatasetsDraw:function(e){ke.draw(e,e[D]._labels)},beforeEvent:function(e,t){if(e[D]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":Lo(e,n);break;case"click":zo(e,n);break}}},afterEvent:function(e){var t=e[D],n=t._actives,r=t._actives=e.getActiveElements(),i=De.arrayDiff(n,r),s,u,f,d,m,h,g;for(s=0,u=i.length;s<u;++s)if(m=i[s],m[1])for(g=m[0].element[D]||[],f=0,d=g.length;f<d;++f)h=g[f],h.$context.active=m[1]===1,h.update(h.$context);(t._dirty||i.length)&&(ke.update(t._labels),e.render()),delete t._dirty}};var xe=uo(ei());var Le=e=>e&&e.enabled&&e.modifierKey,pi=(e,t)=>e&&t[e+"Key"],en=(e,t)=>e&&!t[e+"Key"];function te(e,t,n){return e===void 0?!0:typeof e=="string"?e.indexOf(t)!==-1:typeof e=="function"?e({chart:n}).indexOf(t)!==-1:!1}function Gt(e,t){return typeof e=="function"&&(e=e({chart:t})),typeof e=="string"?{x:e.indexOf("x")!==-1,y:e.indexOf("y")!==-1}:{x:!1,y:!1}}function Uo(e,t){let n;return function(){return clearTimeout(n),n=setTimeout(e,t),t}}function Ho({x:e,y:t},n){let r=n.scales,i=Object.keys(r);for(let s=0;s<i.length;s++){let u=r[i[s]];if(t>=u.top&&t<=u.bottom&&e>=u.left&&e<=u.right)return u}return null}function mi(e,t,n){let{mode:r="xy",scaleMode:i,overScaleMode:s}=e||{},u=Ho(t,n),f=Gt(r,n),d=Gt(i,n);if(s){let h=Gt(s,n);for(let g of["x","y"])h[g]&&(d[g]=f[g],f[g]=!1)}if(u&&d[u.axis])return[u];let m=[];return V(n.scales,function(h){f[h.axis]&&m.push(h)}),m}var Zt=new WeakMap;function E(e){let t=Zt.get(e);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Zt.set(e,t)),t}function Vo(e){Zt.delete(e)}function hi(e,t,n,r){let i=Math.max(0,Math.min(1,(e-t)/n||0)),s=1-i;return{min:r*i,max:r*s}}function vi(e,t){let n=e.isHorizontal()?t.x:t.y;return e.getValueForPixel(n)}function gi(e,t,n){let r=e.max-e.min,i=r*(t-1),s=vi(e,n);return hi(s,e.min,r,i)}function Yo(e,t,n){let r=vi(e,n);if(r===void 0)return{min:e.min,max:e.max};let i=Math.log10(e.min),s=Math.log10(e.max),u=Math.log10(r),f=s-i,d=f*(t-1),m=hi(u,i,f,d);return{min:Math.pow(10,i+m.min),max:Math.pow(10,s-m.max)}}function Bo(e,t){return t&&(t[e.id]||t[e.axis])||{}}function ti(e,t,n,r,i){let s=n[r];if(s==="original"){let u=e.originalScaleLimits[t.id][r];s=ee(u.options,u.scale)}return ee(s,i)}function Wo(e,t,n){let r=e.getValueForPixel(t),i=e.getValueForPixel(n);return{min:Math.min(r,i),max:Math.max(r,i)}}function Xo(e,{min:t,max:n,minLimit:r,maxLimit:i},s){let u=(e-n+t)/2;t-=u,n+=u;let f=s.min.options??s.min.scale,d=s.max.options??s.max.scale,m=e/1e6;return pt(t,f,m)&&(t=f),pt(n,d,m)&&(n=d),t<r?(t=r,n=Math.min(r+e,i)):n>i&&(n=i,t=Math.max(i-e,r)),{min:t,max:n}}function ce(e,{min:t,max:n},r,i=!1){let s=E(e.chart),{options:u}=e,f=Bo(e,r),{minRange:d=0}=f,m=ti(s,e,f,"min",-1/0),h=ti(s,e,f,"max",1/0);if(i==="pan"&&(t<m||n>h))return!0;let g=e.max-e.min,y=i?Math.max(n-t,d):g;if(i&&y===d&&g<=d)return!0;let I=Xo(y,{min:t,max:n,minLimit:m,maxLimit:h},s.originalScaleLimits[e.id]);return u.min=I.min,u.max=I.max,s.updatedScaleLimits[e.id]=I,e.parse(I.min)!==e.min||e.parse(I.max)!==e.max}function jo(e,t,n,r){let i=gi(e,t,n),s={min:e.min+i.min,max:e.max-i.max};return ce(e,s,r,!0)}function Go(e,t,n,r){let i=Yo(e,t,n);return ce(e,i,r,!0)}function Zo(e,t,n,r){ce(e,Wo(e,t,n),r,!0)}var ni=e=>e===0||isNaN(e)?0:e<0?Math.min(Math.round(e),-1):Math.max(Math.round(e),1);function qo(e){let n=e.getLabels().length-1;e.min>0&&(e.min-=1),e.max<n&&(e.max+=1)}function $o(e,t,n,r){let i=gi(e,t,n);e.min===e.max&&t<1&&qo(e);let s={min:e.min+ni(i.min),max:e.max-ni(i.max)};return ce(e,s,r,!0)}function Ko(e){return e.isHorizontal()?e.width:e.height}function Qo(e,t,n){let i=e.getLabels().length-1,{min:s,max:u}=e,f=Math.max(u-s,1),d=Math.round(Ko(e)/Math.max(f,10)),m=Math.round(Math.abs(t/d)),h;return t<-d?(u=Math.min(u+m,i),s=f===1?u:u-f,h=u===i):t>d&&(s=Math.max(0,s-m),u=f===1?s:s+f,h=s===0),ce(e,{min:s,max:u},n)||h}var Jo={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function yi(e,t,n,r=!1){let{min:i,max:s,options:u}=e,f=u.time&&u.time.round,d=Jo[f]||0,m=e.getValueForPixel(e.getPixelForValue(i+d)-t),h=e.getValueForPixel(e.getPixelForValue(s+d)-t);return isNaN(m)||isNaN(h)?!0:ce(e,{min:m,max:h},n,r?"pan":!1)}function ri(e,t,n){return yi(e,t,n,!0)}var qt={category:$o,default:jo,logarithmic:Go},$t={default:Zo},Kt={category:Qo,default:yi,logarithmic:ri,timeseries:ri};function ea(e,t,n){let{id:r,options:{min:i,max:s}}=e;if(!t[r]||!n[r])return!0;let u=n[r];return u.min!==i||u.max!==s}function ii(e,t){V(e,(n,r)=>{t[r]||delete e[r]})}function Ee(e,t){let{scales:n}=e,{originalScaleLimits:r,updatedScaleLimits:i}=t;return V(n,function(s){ea(s,r,i)&&(r[s.id]={min:{scale:s.min,options:s.options.min},max:{scale:s.max,options:s.options.max}})}),ii(r,n),ii(i,n),r}function oi(e,t,n,r){let i=qt[e.type]||qt.default;x(i,[e,t,n,r])}function ai(e,t,n,r){let i=$t[e.type]||$t.default;x(i,[e,t,n,r])}function ta(e){let t=e.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function tn(e,t,n="none",r="api"){let{x:i=1,y:s=1,focalPoint:u=ta(e)}=typeof t=="number"?{x:t,y:t}:t,f=E(e),{options:{limits:d,zoom:m}}=f;Ee(e,f);let h=i!==1,g=s!==1,y=mi(m,u,e);V(y||e.scales,function(I){I.isHorizontal()&&h?oi(I,i,u,d):!I.isHorizontal()&&g&&oi(I,s,u,d)}),e.update(n),x(m.onZoom,[{chart:e,trigger:r}])}function _i(e,t,n,r="none",i="api"){let s=E(e),{options:{limits:u,zoom:f}}=s,{mode:d="xy"}=f;Ee(e,s);let m=te(d,"x",e),h=te(d,"y",e);V(e.scales,function(g){g.isHorizontal()&&m?ai(g,t.x,n.x,u):!g.isHorizontal()&&h&&ai(g,t.y,n.y,u)}),e.update(r),x(f.onZoom,[{chart:e,trigger:i}])}function na(e,t,n,r="none",i="api"){let s=E(e);Ee(e,s);let u=e.scales[t];ce(u,n,void 0,!0),e.update(r),x(s.options.zoom?.onZoom,[{chart:e,trigger:i}])}function ra(e,t="default"){let n=E(e),r=Ee(e,n);V(e.scales,function(i){let s=i.options;r[i.id]?(s.min=r[i.id].min.options,s.max=r[i.id].max.options):(delete s.min,delete s.max),delete n.updatedScaleLimits[i.id]}),e.update(t),x(n.options.zoom.onZoomComplete,[{chart:e}])}function ia(e,t){let n=e.originalScaleLimits[t];if(!n)return;let{min:r,max:i}=n;return ee(i.options,i.scale)-ee(r.options,r.scale)}function oa(e){let t=E(e),n=1,r=1;return V(e.scales,function(i){let s=ia(t,i.id);if(s){let u=Math.round(s/(i.max-i.min)*100)/100;n=Math.min(n,u),r=Math.max(r,u)}}),n<1?n:r}function si(e,t,n,r){let{panDelta:i}=r,s=i[e.id]||0;dt(s)===dt(t)&&(t+=s);let u=Kt[e.type]||Kt.default;x(u,[e,t,n])?i[e.id]=0:i[e.id]=t}function Ti(e,t,n,r="none"){let{x:i=0,y:s=0}=typeof t=="number"?{x:t,y:t}:t,u=E(e),{options:{pan:f,limits:d}}=u,{onPan:m}=f||{};Ee(e,u);let h=i!==0,g=s!==0;V(n||e.scales,function(y){y.isHorizontal()&&h?si(y,i,d,u):!y.isHorizontal()&&g&&si(y,s,d,u)}),e.update(r),x(m,[{chart:e}])}function xi(e){let t=E(e);Ee(e,t);let n={};for(let r of Object.keys(e.scales)){let{min:i,max:s}=t.originalScaleLimits[r]||{min:{},max:{}};n[r]={min:i.scale,max:s.scale}}return n}function aa(e){let t=E(e),n={};for(let r of Object.keys(e.scales))n[r]=t.updatedScaleLimits[r];return n}function sa(e){let t=xi(e);for(let n of Object.keys(e.scales)){let{min:r,max:i}=t[n];if(r!==void 0&&e.scales[n].min!==r||i!==void 0&&e.scales[n].max!==i)return!0}return!1}function li(e){let t=E(e);return t.panning||t.dragging}var ui=(e,t,n)=>Math.min(n,Math.max(t,e));function k(e,t){let{handlers:n}=E(e),r=n[t];r&&r.target&&(r.target.removeEventListener(t,r),delete n[t])}function Fe(e,t,n,r){let{handlers:i,options:s}=E(e),u=i[n];if(u&&u.target===t)return;k(e,n),i[n]=d=>r(e,d,s),i[n].target=t;let f=n==="wheel"?!1:void 0;t.addEventListener(n,i[n],{passive:f})}function la(e,t){let n=E(e);n.dragStart&&(n.dragging=!0,n.dragEnd=t,e.update("none"))}function ua(e,t){let n=E(e);!n.dragStart||t.key!=="Escape"||(k(e,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,e.update("none"))}function Qt(e,t){if(e.target!==t.canvas){let n=t.canvas.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}return Ne(e,t)}function Ei(e,t,n){let{onZoomStart:r,onZoomRejected:i}=n;if(r){let s=Qt(t,e);if(x(r,[{chart:e,event:t,point:s}])===!1)return x(i,[{chart:e,event:t}]),!1}}function ca(e,t){if(e.legend){let s=Ne(t,e);if(Vt(s,e.legend))return}let n=E(e),{pan:r,zoom:i={}}=n.options;if(t.button!==0||pi(Le(r),t)||en(Le(i.drag),t))return x(i.onZoomRejected,[{chart:e,event:t}]);Ei(e,t,i)!==!1&&(n.dragStart=t,Fe(e,e.canvas.ownerDocument,"mousemove",la),Fe(e,window.document,"keydown",ua))}function fa({begin:e,end:t},n){let r=t.x-e.x,i=t.y-e.y,s=Math.abs(r/i);s>n?r=Math.sign(r)*Math.abs(i*n):s<n&&(i=Math.sign(i)*Math.abs(r/n)),t.x=e.x+r,t.y=e.y+i}function ci(e,t,n,{min:r,max:i,prop:s}){e[r]=ui(Math.min(n.begin[s],n.end[s]),t[r],t[i]),e[i]=ui(Math.max(n.begin[s],n.end[s]),t[r],t[i])}function da(e,t,n){let r={begin:Qt(t.dragStart,e),end:Qt(t.dragEnd,e)};if(n){let i=e.chartArea.width/e.chartArea.height;fa(r,i)}return r}function bi(e,t,n,r){let i=te(t,"x",e),s=te(t,"y",e),{top:u,left:f,right:d,bottom:m,width:h,height:g}=e.chartArea,y={top:u,left:f,right:d,bottom:m},I=da(e,n,r&&i&&s);i&&ci(y,e.chartArea,I,{min:"left",max:"right",prop:"x"}),s&&ci(y,e.chartArea,I,{min:"top",max:"bottom",prop:"y"});let A=y.right-y.left,W=y.bottom-y.top;return In(Je({},y),{width:A,height:W,zoomX:i&&A?1+(h-A)/h:1,zoomY:s&&W?1+(g-W)/g:1})}function pa(e,t){let n=E(e);if(!n.dragStart)return;k(e,"mousemove");let{mode:r,onZoomComplete:i,drag:{threshold:s=0,maintainAspectRatio:u}}=n.options.zoom,f=bi(e,r,{dragStart:n.dragStart,dragEnd:t},u),d=te(r,"x",e)?f.width:0,m=te(r,"y",e)?f.height:0,h=Math.sqrt(d*d+m*m);if(n.dragStart=n.dragEnd=null,h<=s){n.dragging=!1,e.update("none");return}_i(e,{x:f.left,y:f.top},{x:f.right,y:f.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,x(i,[{chart:e}])}function ma(e,t,n){if(en(Le(n.wheel),t)){x(n.onZoomRejected,[{chart:e,event:t}]);return}if(Ei(e,t,n)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function ha(e,t){let{handlers:{onZoomComplete:n},options:{zoom:r}}=E(e);if(!ma(e,t,r))return;let i=t.target.getBoundingClientRect(),s=r.wheel.speed,u=t.deltaY>=0?2-1/(1-s):1+s,f={x:u,y:u,focalPoint:{x:t.clientX-i.left,y:t.clientY-i.top}};tn(e,f,"zoom","wheel"),x(n,[{chart:e}])}function va(e,t,n,r){n&&(E(e).handlers[t]=Uo(()=>x(n,[{chart:e}]),r))}function ga(e,t){let n=e.canvas,{wheel:r,drag:i,onZoomComplete:s}=t.zoom;r.enabled?(Fe(e,n,"wheel",ha),va(e,"onZoomComplete",s,250)):k(e,"wheel"),i.enabled?(Fe(e,n,"mousedown",ca),Fe(e,n.ownerDocument,"mouseup",pa)):(k(e,"mousedown"),k(e,"mousemove"),k(e,"mouseup"),k(e,"keydown"))}function ya(e){k(e,"mousedown"),k(e,"mousemove"),k(e,"mouseup"),k(e,"wheel"),k(e,"click"),k(e,"keydown")}function _a(e,t){return function(n,r){let{pan:i,zoom:s={}}=t.options;if(!i||!i.enabled)return!1;let u=r&&r.srcEvent;return u&&!t.panning&&r.pointerType==="mouse"&&(en(Le(i),u)||pi(Le(s.drag),u))?(x(i.onPanRejected,[{chart:e,event:r}]),!1):!0}}function Ta(e,t){let n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY),i=n/r,s,u;return i>.3&&i<1.7?s=u=!0:n>r?s=!0:u=!0,{x:s,y:u}}function Si(e,t,n){if(t.scale){let{center:r,pointers:i}=n,s=1/t.scale*n.scale,u=n.target.getBoundingClientRect(),f=Ta(i[0],i[1]),d=t.options.zoom.mode,m={x:f.x&&te(d,"x",e)?s:1,y:f.y&&te(d,"y",e)?s:1,focalPoint:{x:r.x-u.left,y:r.y-u.top}};tn(e,m,"zoom","pinch"),t.scale=n.scale}}function xa(e,t,n){if(t.options.zoom.pinch.enabled){let r=Ne(n,e);x(t.options.zoom.onZoomStart,[{chart:e,event:n,point:r}])===!1?(t.scale=null,x(t.options.zoom.onZoomRejected,[{chart:e,event:n}])):t.scale=1}}function Ea(e,t,n){t.scale&&(Si(e,t,n),t.scale=null,x(t.options.zoom.onZoomComplete,[{chart:e}]))}function Ci(e,t,n){let r=t.delta;r&&(t.panning=!0,Ti(e,{x:n.deltaX-r.x,y:n.deltaY-r.y},t.panScales),t.delta={x:n.deltaX,y:n.deltaY})}function ba(e,t,n){let{enabled:r,onPanStart:i,onPanRejected:s}=t.options.pan;if(!r)return;let u=n.target.getBoundingClientRect(),f={x:n.center.x-u.left,y:n.center.y-u.top};if(x(i,[{chart:e,event:n,point:f}])===!1)return x(s,[{chart:e,event:n}]);t.panScales=mi(t.options.pan,f,e),t.delta={x:0,y:0},Ci(e,t,n)}function Sa(e,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,x(t.options.pan.onPanComplete,[{chart:e}]))}var Jt=new WeakMap;function fi(e,t){let n=E(e),r=e.canvas,{pan:i,zoom:s}=t,u=new xe.default.Manager(r);s&&s.pinch.enabled&&(u.add(new xe.default.Pinch),u.on("pinchstart",f=>xa(e,n,f)),u.on("pinch",f=>Si(e,n,f)),u.on("pinchend",f=>Ea(e,n,f))),i&&i.enabled&&(u.add(new xe.default.Pan({threshold:i.threshold,enable:_a(e,n)})),u.on("panstart",f=>ba(e,n,f)),u.on("panmove",f=>Ci(e,n,f)),u.on("panend",()=>Sa(e,n))),Jt.set(e,u)}function di(e){let t=Jt.get(e);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),Jt.delete(e))}function Ca(e,t){let{pan:n,zoom:r}=e,{pan:i,zoom:s}=t;return r?.zoom?.pinch?.enabled!==s?.zoom?.pinch?.enabled||n?.enabled!==i?.enabled||n?.threshold!==i?.threshold}var Ia="2.2.0";function It(e,t,n){let r=n.zoom.drag,{dragStart:i,dragEnd:s}=E(e);if(r.drawTime!==t||!s)return;let{left:u,top:f,width:d,height:m}=bi(e,n.zoom.mode,{dragStart:i,dragEnd:s},r.maintainAspectRatio),h=e.ctx;h.save(),h.beginPath(),h.fillStyle=r.backgroundColor||"rgba(225,225,225,0.3)",h.fillRect(u,f,d,m),r.borderWidth>0&&(h.lineWidth=r.borderWidth,h.strokeStyle=r.borderColor||"rgba(225,225,225)",h.strokeRect(u,f,d,m)),h.restore()}var Ii={id:"zoom",version:Ia,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(e,t,n){let r=E(e);r.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),xe.default&&fi(e,n),e.pan=(i,s,u)=>Ti(e,i,s,u),e.zoom=(i,s)=>tn(e,i,s),e.zoomRect=(i,s,u)=>_i(e,i,s,u),e.zoomScale=(i,s,u)=>na(e,i,s,u),e.resetZoom=i=>ra(e,i),e.getZoomLevel=()=>oa(e),e.getInitialScaleBounds=()=>xi(e),e.getZoomedScaleBounds=()=>aa(e),e.isZoomedOrPanned=()=>sa(e),e.isZoomingOrPanning=()=>li(e)},beforeEvent(e,{event:t}){if(li(e))return!1;if(t.type==="click"||t.type==="mouseup"){let n=E(e);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(e,t,n){let r=E(e),i=r.options;r.options=n,Ca(i,n)&&(di(e),fi(e,n)),ga(e,n)},beforeDatasetsDraw(e,t,n){It(e,"beforeDatasetsDraw",n)},afterDatasetsDraw(e,t,n){It(e,"afterDatasetsDraw",n)},beforeDraw(e,t,n){It(e,"beforeDraw",n)},afterDraw(e,t,n){It(e,"afterDraw",n)},stop:function(e){ya(e),xe.default&&di(e),Vo(e)},panFunctions:Kt,zoomFunctions:qt,zoomRectFunctions:$t};mt.register(...Nr,Jr,Ii);mt.defaults.plugins.datalabels.display=!1;mt.defaults.font.family="Roboto, Lusail";Jn(yt,Yr).catch(e=>console.error(e));
