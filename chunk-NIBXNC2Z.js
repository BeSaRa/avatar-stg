import{b as p}from"./chunk-6STCOJXD.js";import{a as l}from"./chunk-XS2U3F55.js";import{d as o}from"./chunk-IBZOQCW6.js";import{a,ha as i,ka as n,qa as e}from"./chunk-3MLM6FP2.js";var d=class r{urlService=e(l);http=e(o);store=e(p);startStream(t){return this.http.post(this.urlService.URLS.AVATAR+"/start-stream",{},{params:a({},t?{size:"life-size"}:void 0)}).pipe(i(s=>this.store.updateStreamId(s.data.id)))}closeStream(){let t=this.store.streamId();return this.store.updateStreamId(""),this.http.delete(this.urlService.URLS.AVATAR+`/close-stream/${t}`)}sendCandidate(t){return this.http.post(this.urlService.URLS.AVATAR+`/send-candidate/${this.store.streamId()}`,{candidate:t})}sendAnswer(t){return this.http.put(this.urlService.URLS.AVATAR+`/send-answer/${this.store.streamId()}`,{answer:t})}interruptAvatar(){return this.http.delete(this.urlService.URLS.AVATAR+`/stop-render/${this.store.streamId()}`)}renderText(t){return this.http.post(this.urlService.URLS.AVATAR+`/render-text/${this.store.streamId()}`,{text:t})}updateVideo(t){return this.http.patch(this.urlService.URLS.AVATAR+"/update-video",{},{params:{text:t}})}retrieveVideo(){return this.http.get(this.urlService.URLS.AVATAR+"/retrieve-video")}static \u0275fac=function(s){return new(s||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
